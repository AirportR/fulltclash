# FullTclash

åŸºäºclash æ ¸å¿ƒè¿ä½œçš„ã€è¿›è¡Œå…¨é‡è®¢é˜…æµ‹è¯•çš„telegramæœºå™¨äºº

## æœ€è¿‘æ›´æ–°(3.5.1)

3.5.1ç‰ˆæœ¬æ›´æ–°å¦‚ä¸‹ç‰¹æ€§ï¼š

âœ¨ æ–°å¢Dockerfileæ–‡ä»¶ã€‚ç”¨ä»¥æ”¯æŒdockerå¹³å°å¯åŠ¨ã€‚
ğŸš— æ–°å¢ä¸€é”®ä¸‰è¿æµ‹æŒ‡ä»¤ /fulltestã€‚[@Avwwww çš„pr](https://github.com/AirportR/FullTclash/tree/081ce53fa1d9d804932c34f56aa18b17550e6400)
ğŸš— å®‰è£…è„šæœ¬å°†æ”¯æŒè‡ªåŠ¨ç¿»é¡µé¢„è§ˆè„šæœ¬æºä»£ç ã€‚ä»è‡ªåŠ¨å®‰è£…æ”¹ä¸ºæ‰‹åŠ¨ç¡®è®¤å®‰è£…ã€‚
ğŸ› ä¿®å¤é€Ÿåº¦å˜åŒ–çš„é¢œè‰²å¿«è¶…å‡ºç»˜å›¾èŒƒå›´é—®é¢˜ã€‚
âœ¨ æ–°å¢ä»é…ç½®æ–‡ä»¶è¯»å–api_idã€api_hashã€bot_tokenã€‚å‰å¾€é…ç½®æ ·ä¾‹æ¨¡æ¿æŸ¥çœ‹ä½¿ç”¨æ–¹æ³•ã€‚ï¼ˆâš ï¸æ³¨æ„ï¼Œæ­¤æ–¹å¼å¯¹äºå·²ç”Ÿæˆçš„sessionæ–‡ä»¶æ— æ³•è¦†ç›–ã€‚å¦‚æœéœ€è¦ä»é…ç½®ç”Ÿæˆæ–‡ä»¶ï¼Œè¯·å…ˆåˆ é™¤ä¹‹å‰çš„ã€‚ï¼‰
âœ¨ æ–°å¢ä»é…ç½®æ–‡ä»¶è®¾ç½®é€Ÿåº¦æµ‹è¯•çš„èŠ‚ç‚¹æ•°é‡é™åˆ¶ã€‚[@kogekiplay çš„pr](https://github.com/AirportR/FullTclash/tree/3b0d68f3047e8a6402e021cfab40a31a3231a1cb)
âœ¨ æ”¯æŒç»˜å›¾æ°´å°ã€‚å‰å¾€é…ç½®æ ·ä¾‹æ¨¡æ¿æŸ¥çœ‹é…ç½®æ–¹æ³•ã€‚
âœ¨ æ”¯æŒDockerå¯åŠ¨ã€‚ä½†éœ€è¦æ‚¨è‡ªè¡Œé€šè¿‡Dockerfileæ–‡ä»¶ç”Ÿæˆå¯ä»¥é•œåƒã€‚å¦‚æœæœ‰æ­¤æ–¹é¢éœ€æ±‚ï¼Œè¯·è”ç³»æˆ‘æˆ–åœ¨ç¾¤é‡Œåé¦ˆã€‚
ğŸ› ä¿®å¤é€Ÿåº¦æµ‹è¯•å¶ç°ç»˜å›¾é—®é¢˜ã€‚[@æ¬§é˜³é€¸æ´› çš„pr](https://github.com/AirportR/FullTclash/tree/ae9f9e66dc31b71e0fb7da7c329cf7da03c16c54)
ğŸ› ä¿®å¤subinfoæŒ‡ä»¤éƒ¨åˆ†å¯èƒ½é—®é¢˜ã€‚[@kogekiplay çš„pr](https://github.com/AirportR/FullTclash/tree/d8316dc461953731e754c342c2866f7ad8c19fd0)

å†å²æ›´æ–°è¯·åˆ°TGé¢‘é“æŸ¥çœ‹: 

https://t.me/FullTClash

## åŸºæœ¬ä»‹ç»

FullTclash bot æ˜¯æ‰¿è½½å…¶æµ‹è¯•ä»»åŠ¡çš„Telegram æœºå™¨äººï¼ˆä»¥ä¸‹ç®€ç§°botï¼‰,ç›®å‰æ”¯æŒä»¥clashé…ç½®æ–‡ä»¶ä¸ºè½½ä½“çš„**æ‰¹é‡**è”é€šæ€§æµ‹è¯•,æ”¯æŒä»¥ä¸‹æµ‹è¯•æ¡ç›®:
- Netflix
- Youtube
- Disney Plus
- Bilibili
- Primevideo
- steamè´§å¸
- OpenAI(ChatGPT)
- è½åœ°ipé£é™©(IPæ¬ºè¯ˆåº¦)
- ç»´åŸºç™¾ç§‘

ä»¥åŠHTTPå»¶è¿Ÿæµ‹è¯•å’Œé“¾è·¯æ‹“æ‰‘æµ‹è¯•ï¼ˆèŠ‚ç‚¹å‡ºå…¥å£åˆ†æï¼‰ã€‚

## æ•ˆæœé¢„è§ˆ

æµåª’ä½“æµ‹è¯•:

![æµ‹è¯•å›¾ç‰‡](https://upload.cc/i1/2022/09/11/fEY9zU.png)

![æµ‹è¯•å›¾ç‰‡](https://upload.cc/i1/2022/09/11/0w2sMB.png)

## å¦‚ä½•å¼€å§‹

### åŸºç¡€å‡†å¤‡

è¦æˆåŠŸè¿è¡Œè¯¥é¡¹ç›®ä»£ç ï¼Œé¦–å…ˆéœ€è¦å‡†å¤‡ä»¥ä¸‹ä¿¡æ¯ï¼š

- Telegram çš„api_id ã€api_hash [è·å–åœ°å€](https://my.telegram.org/apps) ä¸ä¼šè¯·Googleã€‚(éƒ¨åˆ†TGè´¦å·å·²è¢«æ‹‰é»‘ï¼Œæ— æ³•æ­£å¸¸ä½¿ç”¨)

- å» [@BotFather](https://t.me/BotFather) é‚£é‡Œåˆ›å»ºä¸€ä¸ªæœºå™¨äººï¼Œè·å¾—è¯¥æœºå™¨äººçš„bot_tokenï¼Œåº”å½¢å¦‚ï¼š
  
  bot_token = "123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"
  
  è¿™æ­¥ä¸ä¼šè¯·Googleã€‚

- ä¸€ä¸ªclash æ ¸å¿ƒï¼Œ [ä¸‹è½½åœ°å€](https://github.com/Dreamacro/clash/releases)ã€‚ï¼ˆå¯é€‰ï¼Œå¯ä»¥ç”¨/resourcesé‡Œé»˜è®¤çš„ï¼‰

- å­—ä½“æ–‡ä»¶ã€‚ï¼ˆå¯é€‰ï¼Œå¯ä»¥ç”¨é»˜è®¤çš„ï¼‰
### æ‹‰å–æºç 

æ–¹æ³•1ï¼šç›´æ¥ä¸‹è½½ï¼ˆä¸ä¼šæœ‰äººä¸çŸ¥é“åœ¨å“ªä¸‹å§ï¼Ÿï¼‰

æ–¹æ³•2ï¼šä½¿ç”¨gitï¼ˆLinuxæ¨èï¼Œæ–¹ä¾¿æ›´æ–°ï¼‰ï¼Œé¦–å…ˆå®‰è£…gitï¼Œç„¶åæ‹‰å–ä»“åº“ã€‚ä»¥ä¸‹æŒ‡ä»¤ä¸º Ubuntu å‘è¡Œç‰ˆä½œç¤ºä¾‹ï¼ŒWindowsè‡ªè¡Œè§£å†³ã€‚

```
apt install -y git && git clone https://github.com/AirportR/FullTclash.git && cd FullTclash
```

æ­¤æ–¹æ³•åœ¨ä¸­å›½å¤§é™†å¯èƒ½éœ€è¦ä»£ç†åŠ é€Ÿï¼Œè¯·è‡ªè¡Œè§£å†³ã€‚
### ç¯å¢ƒå‡†å¤‡

- Python 3.6 ä»¥ä¸Š

- ä»¥åŠå„ç§ç›¸å…³åŒ…ä¾èµ–

æ‚¨å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨å½“å‰é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œä»¥å¿«é€Ÿå®‰è£…ç¯å¢ƒï¼š

Windows:

```
pip install -r requirements.txt
```

Linux:

```
pip3 install -r requirements.txt
```
### èµ‹äºˆclashæ ¸å¿ƒæ‰§è¡Œæƒé™ (Linux)

Windowsç³»ç»Ÿæ— éœ€æ­¤æ“ä½œ

```
chmod +x ./resources/clash-linux-amd64
```
### ä¸ºbotè¿›è¡Œç›¸å…³é…ç½®

- ç®¡ç†å‘˜é…ç½®
  
  æ–°å»ºä¸€ä¸ªåä¸ºconfig.yamlçš„æ–‡ä»¶ï¼Œé¡¹ç›®æœ‰æ¨¡æ¿ä¾‹å­åä¸º./resources/config.yaml.example,åœ¨config.yamlä¸­å†™å…¥å¦‚ä¸‹ä¿¡æ¯ï¼š 
  
  ```
  admin:
  - 12345678 # æ”¹æˆè‡ªå·±çš„telegram uid
  ```

- ä»£ç†é…ç½®
  
  å¦‚æœæ˜¯åœ¨ä¸­å›½å¤§é™†åœ°åŒºä½¿ç”¨ï¼Œåˆ™ç¨‹åºéœ€è¦ä»£ç†æ‰èƒ½è¿æ¥ä¸ŠTelegramæœåŠ¡å™¨ã€‚åœ¨config.yamlä¸­å†™å…¥å¦‚ä¸‹ä¿¡æ¯ï¼š 
  
  ```
  #boté€šè®¯ä»£ç†
  bot:
   proxy: 127.0.0.1:7890 #sock5 æ›¿æ¢æˆè‡ªå·±çš„ä»£ç†åœ°å€å’Œç«¯å£
  # è·å–è®¢é˜…æ—¶ä½¿ç”¨ä»£ç†ï¼ˆå¯é€‰ï¼‰
  proxy: 127.0.0.1:7890 #http æ›¿æ¢æˆè‡ªå·±çš„ä»£ç†åœ°å€å’Œç«¯å£,æ³¨æ„ï¼Œæ­¤é…ç½®ä¸ä¸Šé¢çš„ç‹¬ç«‹åˆ†å¼€ã€‚
  ```
- æ›´æ”¹clashæ ¸å¿ƒ

  å¦‚æœæ‚¨æƒ³åœ¨éWindowså¹³å°è¿è¡Œæ­¤ç¨‹åºï¼Œè¯·åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå¯¹åº”å¹³å°çš„clashå¯æ‰§è¡Œæ–‡ä»¶ï¼š
  ```yaml
  # ä»¥Ubuntuä¸ºä¾‹:
  clash:
    path: ./resources/clash-linux-amd64
    workpath: ./clash
  ```
### è·å–sessionæ–‡ä»¶

æ‚¨éœ€è¦åœ¨é¡¹ç›®æ–‡ä»¶ç›®å½•ä¸‹ï¼Œæ”¾ç½®ä¸€ä¸ªå·²ç»ç™»é™†å¥½çš„.sessionåç¼€æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ç¨‹åºç”Ÿæˆçš„ï¼Œå½¢å¦‚ï¼š my_bot.session

>æ–¹æ³•1ï¼š æ‚¨å¯ä»¥å‚é˜…[è¿™ç¯‡æ–‡æ¡£](https://docs.pyrogram.org/start/auth)ï¼Œä»¥å¿«é€Ÿè·å¾—åç¼€ä¸º .session çš„æ–‡ä»¶

>æ–¹æ³•2ï¼š é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªæ–‡ä»¶åä¸º login.py ï¼Œå¯ä»¥é€šè¿‡æŒ‡ä»¤è¿è¡Œå®ƒï¼š

```
python .\login.py
```

å½“ç¨‹åºé€€å‡ºåå³å¯è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåä¸º my_bot.session çš„æ–‡ä»¶

è¿è¡Œåå®ƒä¼šå°è¯•ç»™ä½ è¾“å…¥çš„ç”¨æˆ·åçš„ç›®æ ‡å‘é€æ¶ˆæ¯ï¼Œå½“æ¥æ”¶åˆ°ï¼šå—¨, æˆ‘åœ¨æ­£å¸¸å·¥ä½œå“¦ï¼

è¿™å¥è¯æ—¶ï¼Œå³å¯è¯´æ˜è¯¥sessionæ–‡ä»¶æœ‰æ•ˆï¼Œå¦åˆ™æ— æ•ˆã€‚
>æ–¹æ³•3ï¼šå¯ä»¥ç›´æ¥åœ¨é…ç½®æ–‡ä»¶config.yamlä¸­é…ç½®ï¼Œè¿™æ ·ç¨‹åºå¯åŠ¨åä¼šè‡ªåŠ¨è¯»å–é…ç½®æ–‡ä»¶é‡Œé¢çš„å€¼æ¥ç”Ÿæˆsessionæ–‡ä»¶(è¦æ±‚ä¸€å®šè¦æ­£ç¡®)ã€‚
```yaml
#é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼Œæ³¨æ„ç¼©è¿›è¦æ­£ç¡®
bot:
 api_id: 123456
 api_hash: 123456ABCDefg
 bot_token: 123456:ABCDefgh123455
```
å¦‚æœå¯åŠ¨åæ— æ³•éªŒè¯ï¼Œè¯·åˆ é™¤ç”Ÿæˆçš„mybot.sessionæ–‡ä»¶ï¼Œæ­¤æ—¶çš„æ–‡ä»¶æ˜¯åçš„ï¼Œä¸å¯ç”¨ï¼Œå¦‚æœä¸åˆ é™¤ç¨‹åºä¼šä¸€ç›´ä½¿ç”¨åçš„æ–‡ä»¶ï¼Œä¸ä¼šé‡æ–°ç”Ÿæˆã€‚ç„¶åé‡æ–°å¯åŠ¨ã€‚
### å¼€å§‹å¯åŠ¨
ç›®å‰æœ‰ä¸¤ç§å¯åŠ¨æ–¹å¼ï¼Œä¸€æ¬¡å¯åŠ¨å’Œåˆ†å¼€å¯åŠ¨ã€‚åŒºåˆ«åœ¨äºï¼Œä¸€æ¬¡æ€§å¯åŠ¨ä¼šè‡ªåŠ¨å¯åŠ¨å­è¿›ç¨‹clash coreï¼Œè€Œåˆ†å¼€å¯åŠ¨ä¼šå…ˆå¯åŠ¨clash coreï¼Œbotç¨‹åºä¸»ä½“å¯åŠ¨çš„æ—¶ä¾¯å°±ä¸ä¼šå†å¯åŠ¨äº†ã€‚ç›´è§‚ç‚¹çš„æ„Ÿå—å°±æ˜¯botå¯åŠ¨å˜å¿«ã€‚
>ä¸€æ¬¡å¯åŠ¨ï¼š
é…ç½®å¥½åï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹æŒ‡ä»¤
Windows(Linuxç³»ä¸ºpython3):
```shell
python main.py
```
> åˆ†å¼€å¯åŠ¨ï¼š
åœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹æŒ‡ä»¤
Windows10:
```shell
python clash.py
```
åœ¨ç¬¬äºŒä¸ªçª—å£è¿è¡Œ:
```shell
python main.py
```

Ubuntu: 
```shell
python3 clash.py
```
åœ¨ç¬¬äºŒä¸ªçª—å£è¿è¡Œ:
```shell
python3 main.py
```

ç­‰å¾…åˆå§‹åŒ–æ“ä½œï¼Œå‡ºç°â€œç¨‹åºå·²å¯åŠ¨!â€å­—æ ·å°±è¯´æ˜åœ¨è¿è¡Œäº†.
è¿è¡Œä¹‹åå’Œbotç§èŠå‘½ä»¤ï¼š

/testurl è®¢é˜…åœ°å€(clashé…ç½®æ ¼å¼)
å³å¯å¼€å§‹æµ‹è¯•

/help å¯æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤è¯´æ˜

### ä¸ºç¨‹åºè®¾ç½®è¿›ç¨‹å®ˆæŠ¤(Linux)

ç”±äºLinuxç³»ç»Ÿç‰¹æ€§ï¼Œå…³é—­sshè¿æ¥åï¼Œå‰å°ç¨‹åºä¼šè¢«å…³é—­ã€‚æ‚¨éœ€è¦è®¾ç½®è¿›ç¨‹å®ˆæŠ¤ï¼Œæ‰èƒ½åœ¨åå°ä¸é—´æ–­åœ°è¿è¡Œç¨‹åºã€‚å…·ä½“æ–¹æ³•Googleæœç´¢å³å¯ã€‚

## äº¤æµæ¢è®¨

æˆ‘ä»¬æ¬¢è¿å„æ–¹æœ‹å‹æå‡ºé’ˆå¯¹æ€§çš„åé¦ˆï¼š

[TGæ›´æ–°å‘å¸ƒé¢‘é“](https://t.me/FullTClash)

åœ¨é¡¹ç›®é¡µé¢æå‡ºissue

## è‡´è°¢

- [SSRSpeedNéƒ¨åˆ†ä»£ç çµæ„Ÿ](https://github.com/PauperZ/SSRSpeedN)

- [æµåª’ä½“è§£é”æ€è·¯](https://github.com/lmc999/RegionRestrictionCheck)

- ä»¥ä¸‹è¿™äº›ä¸Šæ¸¸é¡¹ç›®:
  
  - [Clash](https://github.com/Dreamacro/clash)
  
  - [aiohttp](https://github.com/aio-libs/aiohttp)
  
  - [pyrogram](https://github.com/pyrogram/pyrogram)
  
  - [async-timeout](https://github.com/aio-libs/async-timeout)
  
  - [BeautifulSoup](https://www.crummy.com/software/BeautifulSoup/)
  
  - [Pillow](https://github.com/python-pillow/Pillow)
  
  - [pilmoji](https://github.com/jay3332/pilmoji)
  
  - [pyyaml](https://github.com/yaml/pyyaml)
  
  - [requests](https://github.com/psf/requests)
